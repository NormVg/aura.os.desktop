# Reply System User Guide

## How to Reply to Messages

### Method 1: Reply Button

1. **Find the message** you want to reply to
2. **Hover over the AI message** - action buttons appear
3. **Click the reply button** (↩️ icon)
4. **Reply context appears** above the input box
5. **Type your response** and press Enter

```
┌─────────────────────────────────────┐
│ AI Message: "Quantum computing..."  │
│ [Copy] [Reply ↩️]  ← Click here     │
└─────────────────────────────────────┘

Input box shows:
┌─────────────────────────────────────┐
│ Replying to: Quantum computing... ✕ │
│ ─────────────────────────────────── │
│ What are the applications?          │
└─────────────────────────────────────┘
```

### Method 2: Reply Chips

1. **After AI responds**, a reply chip appears automatically
2. **Click the chip** to reply to that message
3. **Type your response** and send

```
After AI responds:
┌─────────────────────────────────────┐
│ [replying Quantum computing... ✕]   │ ← Click chip
└─────────────────────────────────────┘

Input box:
┌─────────────────────────────────────┐
│ Replying to: Quantum computing... ✕ │
│ ─────────────────────────────────── │
│ [Type your reply here]              │
└─────────────────────────────────────┘
```

## Canceling a Reply

### Option 1: Click X in Reply Context

```
┌─────────────────────────────────────┐
│ Replying to: Message... [✕]  ← Click│
└─────────────────────────────────────┘
```

### Option 2: Click X on Reply Chip

```
┌─────────────────────────────────────┐
│ [replying Message... ✕]  ← Click    │
└─────────────────────────────────────┘
```

## What Happens When You Reply

### User's Perspective

```
You see:
┌─────────────────────────────────────┐
│ Replying to: Quantum computing...   │
│ What are the applications?          │
└─────────────────────────────────────┘
```

### AI's Perspective

```
AI receives:
[Replying to: "Quantum computing uses qubits..."]

What are the applications?
```

The AI understands:

- ✅ Which message you're referring to
- ✅ Context from that message
- ✅ Your specific question

## Examples

### Example 1: Clarification

```
AI: "Python is great for data science because..."

You click reply and type: "What about R?"

AI receives:
[Replying to: "Python is great for data science..."]
What about R?

AI responds: "R is also excellent for data science..."
```

### Example 2: Follow-up Question

```
AI: "The capital of France is Paris."

You click reply and type: "What's the population?"

AI receives:
[Replying to: "The capital of France is Paris."]
What's the population?

AI responds: "Paris has a population of about 2.2 million..."
```

### Example 3: Correction Request

```
AI: "The Earth is flat."

You click reply and type: "That's incorrect."

AI receives:
[Replying to: "The Earth is flat."]
That's incorrect.

AI responds: "You're right, I apologize. The Earth is spherical..."
```

## Tips & Tricks

### 1. Quick Reply to Last Message

- After AI responds, a chip appears automatically
- Just click and type - fastest way to continue conversation

### 2. Reply to Older Messages

- Scroll up to find the message
- Click reply button
- Helps AI understand context in long conversations

### 3. Cancel Anytime

- Changed your mind? Click X
- Reply context disappears
- Type a new message normally

### 4. Multiple Replies

- Currently:

  Hover to see

```

## Keyboard Shortcuts

### Current
- `Enter` - Send message (with or without reply)
- `Shift + E
nter` - New line in message

### Future (Planned)
- `Escape` - Cancel reply
- `R` - Reply to last message
- `Ctrl/Cmd + R` - Reply to selected message

## Common Questions

### Q: Can I reply to my own messages?
A: Currently, reply button only appears on AI messages. You can only reply to AI responses.

### Q: Can I reply to multiple messages at once?
A: Not yet. You can only reply to one message at a time. Send your first reply, then set up the next one.

### Q: Does the AI always see the reply context?
A: Yes! When you reply, the AI always receives the original message context, helping it understand what you're referring to.

###
 Q: Can I edit the reply context?
A: Not directly. You can cancel and start over, or include additional context in your message.

### Q: What if I reply to a very long message?
A: The AI receives up to 100 characters of the original message. This is usually enough for context.

### Q: Do reply chips disappear?
A: Yes, reply chips disappear when:
- You click the X button
- You start replying (chip is replaced by context bar)
- AI sends a new message (new chip appears)

## Troubleshooting

### Reply button not appearing
- ✅ Reply buttons only appear on AI messages
- ✅ Hover over the message to see but
tons
- ✅ Make sure you're not currently streaming

### Reply context not showing
- ✅ Check if you clicked the reply button
- ✅ Look above the input box for context bar
- ✅ Try clicking reply again

### AI not understanding context
- ✅ Make sure reply context bar was visible when you sent
- ✅ Try being more specific in your reply
- ✅ Include additional context in your message

### Chip not clickable
- ✅ Wait for AI to finish responding
- ✅ Check if you're already replying (context bar visible)
- ✅ Try clicking the chip again

## Best Practices

### 1. Use Replies for Clarity
```

❌ Without reply
:
"What about that?"

✅ With reply:
[Replying to: "Python is great..."]
"What about R?"

```

### 2. Reply to Specific Points
```

❌ Vague:
"Tell me more"

✅ Specific:
[Replying to: "Quantum computing..."]
"Tell me more about qubits"

```

### 3. Use Chips for Quick Follow-ups
```

AI responds → Chip appears → Click → Type → Send
Fastest way to continue conversation!

```

### 4. Cancel When Needed
```

Changed your mind? Click X
No penalty, just start fresh

```

## Advanced Usage

### Threading Conversations
```

1. AI explains concept A
2. You reply asking about B
3. AI explai
   ns B
4. You reply to original message about A
5. AI understands you're back to A

```

### Context Preservation
```

Long conversation:

- Message 1: "Explain X"
- Message 2: "Now Y"
- Message 3: "And Z"

Reply to Message 1:
AI remembers X context even after Y and Z!

```

### Multi-turn Clarification
```

AI: "Here's how it works..."
You: [Reply] "What about edge case A?"
AI: "Edge case A is handled by..."
You: [Reply to original] "What about edge case B?"
AI: "Edge case B is handled by..."

```

---

**Pro Tip**: Use reply chips for quick follow-ups, and reply buttons for specific clarifications on older messages!
```
